
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Own Your Admin Library</title>
  <style>
    body { font-family: 'Quicksand', sans-serif; margin:0; padding:0; background:#fff; }
    .search-wrapper { position: sticky; top:0; z-index:1000; background:#fff; padding:10px 0 15px; border-bottom:1px solid #ddd; }
    .search-container { max-width:450px; margin:0 auto; position:relative; }
    .search-box { width:100%; padding:10px 40px 10px 12px; border:1px solid #ccc; border-radius:20px; }
    .clear-btn { position:absolute; right:10px; top:7px; font-size:18px; cursor:pointer; display:none; }
    .tag-bar { display:flex; flex-wrap:wrap; gap:8px; justify-content:center; padding:5px; }
    .tag { padding:6px 12px; background:#f4f4f4; border-radius:20px; border:1px solid #ddd; cursor:pointer; }
    .tag.active { background:#789262; color:#fff; }
    .topics-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:20px; margin:20px auto; max-width:1400px; padding:0 10px; }
    .topic { border:1px solid #ddd; border-radius:8px; background:#fff; cursor:pointer; }
    .topic-header { padding:15px; background:#f7f7f7; font-weight:bold; display:flex; align-items:center; }
    .topic-title { display:flex; gap:10px; align-items:center; }
    .topic-icon { font-size:18px; }
    .category-header { grid-column:1 / -1; font-size:20px; font-weight:bold; margin-top:30px; color:#789262; }
    .lightbox { display:none; position:fixed; z-index:9999; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; }
    .lightbox-content { background:#000; max-width:90%; width:1000px; max-height:90%; position:relative; border-radius:8px; overflow:hidden; }
    .lightbox iframe { width:100%; height:80vh; border:none; }
    .close-lightbox { position:absolute; top:10px; right:10px; background:#fff; border:none; font-size:20px; padding:5px 10px; border-radius:50%; cursor:pointer; }
    #adminTool { display:none; padding:20px; border:2px dashed #789262; background:#f9f9f9; margin-bottom:20px; }
    #adminTool input { width:100%; padding:8px; margin-bottom:8px; }
    #adminTool button { margin-right:10px; }
  </style>
</head>
<body>

<!-- Admin Tool -->
<div id="adminTool">
  <h3 style="margin-top:0; color:#789262;">Add New Video</h3>
  <label>Title:</label>
  <input type="text" id="titleInput">
  <label>Tags (comma separated):</label>
  <input type="text" id="tagsInput">
  <label>Icon (optional):</label>
  <input type="text" id="iconInput" placeholder="ðŸ“§">
  <label>Embed Link:</label>
  <input type="text" id="linkInput">
  <button id="addBtn" style="background:#789262; color:#fff; padding:10px 15px; border:none; cursor:pointer;">Generate & Add</button>
  <button id="copyCodeBtn" style="background:#555; color:#fff; padding:10px 15px; border:none; cursor:pointer;">Copy All Code</button>
  <pre id="outputCode" style="background:#f4f4f4; padding:10px; margin-top:10px; white-space:pre-wrap; display:none;"></pre>
</div>

<!-- Search & Tags -->
<div class="search-wrapper">
  <div class="search-container">
    <input type="text" id="searchInput" class="search-box" placeholder="Search topics...">
    <span id="clearBtn" class="clear-btn">&times;</span>
  </div>
  <div class="tag-bar" id="tagBar"></div>
</div>

<div id="noResults" style="text-align:center; font-style:italic; color:#777; display:none; margin:15px 0;">No results found</div>

<!-- Topics Grid -->
<div class="topics-grid" id="topicsGrid">
  <div class="topic" data-title="MailerLite Setup" data-tags="Email, Newsletter, Signup, Forms" data-src-id="mailerlite">
    <div class="topic-header">
      <div class="topic-title"><span class="topic-icon">ðŸ“§</span>MailerLite Setup</div>
    </div>
  </div>
  <div class="topic" data-title="Share Understanding DKIM, SPF, and DMARC" data-tags="Email, SPF" data-src-id="dkim">
    <div class="topic-header">
      <div class="topic-title"><span class="topic-icon">ðŸŽ¯</span>Share Understanding DKIM, SPF, and DMARC</div>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-content">
    <button class="close-lightbox" id="closeLightbox">&times;</button>
    <iframe id="lightboxIframe" allowfullscreen></iframe>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  const adminPassword = "ownyouradmin";
  const adminTool = document.getElementById('adminTool');
  const topicsGrid = document.getElementById('topicsGrid');
  const tagBar = document.getElementById('tagBar');
  const searchInput = document.getElementById('searchInput');
  const clearBtn = document.getElementById('clearBtn');
  const noResults = document.getElementById('noResults');
  const lightbox = document.getElementById('lightbox');
  const lightboxIframe = document.getElementById('lightboxIframe');
  const closeLightbox = document.getElementById('closeLightbox');
  let activeFilter = 'all';

  const videoLinks = {
    "mailerlite": "https://gamma.app/embed/ca6xz0wmw6bubrl",
    "dkim": "https://gamma.app/embed/sm9qr6fyqo1xlbbx"
  };

  document.querySelectorAll("#topicsGrid .topic").forEach(topic => {
    const id = topic.dataset.srcId;
    if (videoLinks[id]) topic.dataset.src = videoLinks[id];
  });

  function sortAndGroup() {
    let topics = Array.from(topicsGrid.querySelectorAll('.topic'));
    topics.sort((a, b) => a.dataset.title.localeCompare(b.dataset.title));
    let categoryMap = {};
    topics.forEach(topic => {
      let category = topic.dataset.tags.split(',')[0].trim();
      if (!categoryMap[category]) categoryMap[category] = [];
      categoryMap[category].push(topic);
    });
    topicsGrid.innerHTML = '';
    Object.keys(categoryMap).sort().forEach(category => {
      let header = document.createElement('div');
      header.className = 'category-header';
      header.textContent = category;
      topicsGrid.appendChild(header);
      categoryMap[category].forEach(topic => topicsGrid.appendChild(topic));
    });
  }
  sortAndGroup();

  function generateTags() {
    let tagSet = new Set();
    topicsGrid.querySelectorAll('.topic').forEach(topic => {
      topic.dataset.tags.split(',').map(t => t.trim()).forEach(tag => tagSet.add(tag));
    });
    let sortedTags = Array.from(tagSet).sort();
    sortedTags.unshift('All');
    tagBar.innerHTML = '';
    sortedTags.forEach(tag => {
      const el = document.createElement('span');
      el.classList.add('tag');
      el.dataset.filter = tag.toLowerCase();
      el.textContent = tag;
      el.addEventListener('click', () => {
        document.querySelectorAll('.tag').forEach(t => t.classList.remove('active'));
        el.classList.add('active');
        activeFilter = el.dataset.filter;
        filterTopics();
      });
      tagBar.appendChild(el);
    });
    document.querySelector('.tag[data-filter="all"]').classList.add('active');
  }
  generateTags();

  function filterTopics() {
    const query = searchInput.value.toLowerCase();
    let matches = 0;
    topicsGrid.querySelectorAll('.topic').forEach(topic => {
      const title = topic.dataset.title.toLowerCase();
      const tagsList = topic.dataset.tags.toLowerCase();
      const searchMatch = title.includes(query) || tagsList.includes(query);
      const tagMatch = activeFilter === 'all' || tagsList.includes(activeFilter);
      if (searchMatch && tagMatch) {
        topic.style.display = '';
        matches++;
      } else {
        topic.style.display = 'none';
      }
    });
    noResults.style.display = matches ? 'none' : 'block';
    clearBtn.style.display = query ? 'block' : 'none';
  }

  searchInput.addEventListener('input', filterTopics);
  clearBtn.addEventListener('click', () => { searchInput.value = ''; clearBtn.style.display = 'none'; filterTopics(); });

  topicsGrid.addEventListener('click', function(e) {
    const topic = e.target.closest('.topic');
    if (topic && topic.dataset.src) {
      lightboxIframe.src = topic.dataset.src;
      lightbox.style.display = 'flex';
    }
  });
  closeLightbox.addEventListener('click', () => { lightbox.style.display = 'none'; lightboxIframe.src = ''; });
  lightbox.addEventListener('click', (e) => { if (e.target === lightbox) { lightbox.style.display = 'none'; lightboxIframe.src = ''; } });

  document.addEventListener('keydown', function(e) {
    if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key.toLowerCase() === 'a') {
      const pass = prompt("Enter admin password:");
      if (pass === adminPassword) {
        adminTool.style.display = adminTool.style.display === 'block' ? 'none' : 'block';
      } else {
        alert("Incorrect password.");
      }
    }
  });
});
</script>
</body>
</html>
